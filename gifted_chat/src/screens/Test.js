import {GiftedChat, SystemMessage} from "react-native-gifted-chat"; import React, {Component} from "react"; import db from '@react-native-firebase/database'; import auth from "@react-native-firebase/auth"; import {setFilterText} from '../commonProperty/setFilterText'; import {View, TouchableOpacity, Text} from 'react-native'; import Toast from 'react-native-toast-message'; import {showToast} from '../commonProperty/showToast'; import {handleEmail} from '../commonProperty/handleEmail'; import RBSheet from "react-native-raw-bottom-sheet"; import { globalStyles } from '../commonProperty/globalStyles'; import Ionicons from 'react-native-vector-icons/Ionicons'; import MaterialIcons from "react-native-vector-icons/MaterialIcons"; const database = db().ref("chat"); export default class ChatScreen extends Component { state = { messages: //[], [{ _id: 0, text: '부적절하거나 불쾌감을 줄 수 있는 대화는 삼가 부탁드립니다. 회원제재를 받을 수 있습니다.', createdAt: new Date().getTime(), system: true, }], uid: "", reportUser: null, }; loadMessages(callback) { database.off(); //Detaches a callback previously attached with on() const onReceive = data => { const message = data.val();

